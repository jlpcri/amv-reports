<div class="old-report">
    <div class="main-content-title">
        Age Categories
    </div>
    <app-old-date-picker></app-old-date-picker>
    <div *ngIf="guestAges">
        <table class="table-age-categories table-striped">
            <thead>
            <tr>
                <th>Age Range</th>
                <th class="rt">Accounts</th>
                <th class="rt">IDs</th>
                <th class="rt">Transactions</th>
                <th class="rt">Confirmed</th>
                <th class="rt">Scanned</th>
                <th class="rt">Historical</th>
                <th class="rt">Erply/POS</th>
                <th style="width:100%;"></th>
            </tr>
            </thead>
            <tbody>
            <tr (click)="setCategoryTransactions(guestAges.all.transactions)">
                <td>All</td>
                <td class="rt mono">{{guestAges.all.customerIds.length | number}}</td>
                <td class="rt mono">{{guestAges.all.idGuests.length | number}}</td>
                <td class="rt mono">{{guestAges.all.orderIds.length | number}}</td>
                <td class="rt mono">{{guestAges.all.confirmedCount | number}}</td>
                <td class="rt mono">{{guestAges.all.scannedCount | number}}</td>
                <td class="rt mono">{{guestAges.all.histCount | number}}</td>
                <td class="rt mono">{{guestAges.all.posCount | number}}</td>
                <td></td>
            </tr>
            <tr (click)="setCategoryTransactions(guestAges.unknown.transactions)">
                <td>Unknown</td>
                <td class="rt mono">{{guestAges.unknown.customerIds.length | number}}</td>
                <td class="rt mono">{{guestAges.unknown.idGuests.length | number}}</td>
                <td class="rt mono">{{guestAges.unknown.orderIds.length | number}}</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr *ngFor="let category of guestAges.ageCategories" (click)="setCategoryTransactions(category.transactions)">
                <td>
                    {{category.startAge}}
                    <span *ngIf="category.stopAge">-</span>
                    <span *ngIf="category.startAge && !category.stopAge">+</span>
                    {{category.stopAge}}</td>
                <td class="rt mono">{{category.customerIds.length | number}}</td>
                <td class="rt mono">{{category.idGuests.length | number}}</td>
                <td class="rt mono">{{category.orderIds.length | number}}</td>
                <td class="rt mono">{{category.confirmedCount | number}}</td>
                <td class="rt mono">{{category.scannedCount | number}}</td>
                <td class="rt mono">{{category.histCount | number}}</td>
                <td class="rt mono">{{category.posCount | number}}</td>
                <td></td>
            </tr>
            </tbody>
        </table>
    </div>
    <pageable-table *ngIf="guestAges" [columns]="ageTransactionColumns" [rows]="categoryTransactions"></pageable-table>
</div>
